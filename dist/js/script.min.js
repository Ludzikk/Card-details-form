"use strict";var inputs=document.querySelectorAll(".main__input"),cardNumber=document.querySelector(".main__textcard--number"),cardName=document.querySelector(".main__textcard--name"),cardCvc=document.querySelector(".main__textcard--cvc"),cardMonth=document.querySelector(".main__textcard--month"),cardYear=document.querySelector(".main__textcard--year"),errorDate=document.querySelector(".main__error--date"),errorName=document.querySelector(".main__error--name"),errorNumber=document.querySelector(".main__error--number"),errorCvc=document.querySelector(".main__error--cvc"),submitBtn=document.querySelector(".main__btn--submit"),continueBtn=document.querySelector(".main__btn--continue"),submitBox=document.querySelector(".main__submit"),popupBox=document.querySelector(".main__popup");function checkIdOfInput(){switch(this.id){case"number":var t=cardNumber.textContent;""!==this.value?(cardNumber.textContent=this.value,(cardNumber.textContent.length%4==0&&4===cardNumber.textContent.length||cardNumber.textContent.length%9==0&&9===cardNumber.textContent.length||cardNumber.textContent.length%14==0&&14===cardNumber.textContent.length)&&(this.value=cardNumber.textContent+" "),19<cardNumber.textContent.length&&(cardNumber.textContent=cardNumber.textContent.slice(0,19),this.value=cardNumber.textContent),t.match(/[a-zA-Z]+/)?(errorNumber.textContent="Wrong format",this.classList.add("errorinput")):(errorNumber.textContent="",this.classList.remove("errorinput"))):(cardNumber.textContent="0000 0000 0000 0000",errorNumber.textContent="",this.classList.remove("errorinput"));break;case"name":t=cardName.textContent;""!==this.value?(cardName.textContent=this.value,22<cardName.textContent.length&&(cardName.textContent=cardName.textContent.slice(0,22),this.value=cardName.textContent),t.match(/[0-9]+/)?(errorName.textContent="Wrong format",this.classList.add("errorinput")):(errorName.textContent="",this.classList.remove("errorinput"))):(cardName.textContent="jane appleseed",errorName.textContent="",this.classList.remove("errorinput"));break;case"month":""!==this.value?(cardMonth.textContent=this.value,2<cardMonth.textContent.length&&(cardMonth.textContent=cardMonth.textContent.slice(0,2),this.value=cardMonth.textContent),12<this.value||this.value<1?(errorDate.textContent="Wrong date",this.classList.add("errorinput")):(errorDate.textContent="",this.classList.remove("errorinput"))):(cardMonth.textContent="00",errorDate.textContent="",this.classList.remove("errorinput"));break;case"year":""!==this.value?(cardYear.textContent=this.value,2<cardYear.textContent.length&&(cardYear.textContent=cardYear.textContent.slice(0,2),this.value=cardYear.textContent),2===cardYear.textContent.length&&(32<this.value||this.value<24)?(errorDate.textContent="Wrong date",this.classList.add("errorinput")):(errorDate.textContent="",this.classList.remove("errorinput"))):(cardYear.textContent="00",errorDate.textContent="",this.classList.remove("errorinput"));break;case"cvc":""!==this.value?(cardCvc.textContent=this.value,3<cardCvc.textContent.length&&(cardCvc.textContent=cardCvc.textContent.slice(0,3),this.value=cardCvc.textContent),0<cardCvc.textContent&&(errorCvc.textContent="",this.classList.remove("errorinput"))):(cardCvc.textContent="000",errorCvc.textContent="",this.classList.remove("errorinput"))}}var resetErrors=function(){errorDate.textContent="",errorNumber.textContent="",errorName.textContent="",errorCvc.textContent="",inputs.forEach(function(t){t.classList.remove("errorinput"),t.value=""}),cardCvc.textContent="000",cardName.textContent="jane appleseed",cardNumber.textContent="0000 0000 0000 0000",cardMonth.textContent="00",cardYear.textContent="00"},checkIfFilledInputs=function(){var e=0;inputs.forEach(function(t){if(""===t.value&&e++,""===t.value)switch(t.id){case"number":t.classList.add("errorinput"),errorNumber.textContent="Empty";break;case"name":t.classList.add("errorinput"),errorName.textContent="Empty";break;case"month":case"year":t.classList.add("errorinput"),errorDate.textContent="Empty";break;case"cvc":t.classList.add("errorinput"),errorCvc.textContent="Empty"}""!==t.value&&"number"===t.id&&19!==t.value.length&&(t.classList.add("errorinput"),errorNumber.textContent="Too short"),""!==t.value&&"cvc"===t.id&&3!==t.value.length&&(t.classList.add("errorinput"),errorCvc.textContent="Too short")}),0===e&&checkIfAnyErrors()},checkIfAnyErrors=function(){var e=0;inputs.forEach(function(t){t.classList.contains("errorinput")&&e++}),0===e&&submitForm()},submitForm=function(){submitBox.classList.toggle("hidden"),popupBox.classList.toggle("hidden")};submitBtn.addEventListener("click",checkIfFilledInputs),continueBtn.addEventListener("click",function(){resetErrors(),submitForm()}),inputs.forEach(function(t){return t.addEventListener("keyup",checkIdOfInput)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJpbnB1dHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYXJkTnVtYmVyIiwicXVlcnlTZWxlY3RvciIsImNhcmROYW1lIiwiY2FyZEN2YyIsImNhcmRNb250aCIsImNhcmRZZWFyIiwiZXJyb3JEYXRlIiwiZXJyb3JOYW1lIiwiZXJyb3JOdW1iZXIiLCJlcnJvckN2YyIsInN1Ym1pdEJ0biIsImNvbnRpbnVlQnRuIiwicG9wdXBCb3giLCJjaGVja0lkT2ZJbnB1dCIsIm51bWJlclZhbGlkYXRpb24iLCJ0ZXh0Q29udGVudCIsInRoaXMiLCJ2YWx1ZSIsImxlbmd0aCIsImNsYXNzTGlzdCIsInNsaWNlIiwibWF0Y2giLCJuYW1lVmFsaWRhdGlvbiIsImFkZCIsInJlbW92ZSIsInJlc2V0RXJyb3JzIiwiaW5wdXQiLCJlbXB0eUlucHV0cyIsImZvckVhY2giLCJjaGVja0lmRmlsbGVkSW5wdXRzIiwiaWQiLCJjaGVja0lmQW55RXJyb3JzIiwiZXJyb3JPZklucHV0Iiwic3VibWl0Rm9ybSIsInN1Ym1pdEJveCIsInRvZ2dsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250YWlucyJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsT0FBU0MsU0FBU0MsaUJBQWlCLGNBQWMsRUFDakRDLFdBQWFGLFNBQVNHLGNBQWMseUJBQXlCLEVBRDdESixTQUFTQyxTQUFTQyxjQUFpQix1QkFBZSxFQUNsREMsUUFBVUYsU0FBV0csY0FBYyxzQkFBQyxFQUNwQ0MsVUFBV0osU0FBU0csY0FBYyx3QkFBd0IsRUFDMURFLFNBQVVMLFNBQVNHLGNBQWMsdUJBQXVCLEVBQ3hERyxVQUFZTixTQUFTRyxjQUFjLG9CQUFBLEVBQ25DSSxVQUFXUCxTQUFTRyxjQUFjLG9CQUF1QixFQUN6REssWUFBWVIsU0FBU0csY0FBYyxzQkFBcUIsRUFDeERNLFNBQVlULFNBQVNHLGNBQWMsbUJBQW9CLEVBQ3ZETyxVQUFjVixTQUFTRyxjQUFjLG9C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QUFBLFFBQ0QsTUFFS2tCLElBQUFBLE1BQ0pDLEVBQVVmLFVBQVVnQixJQUFPLFlBQVMsRUFDNUIxQixTQUFDVSxZQUFpQixPQUc1QlQsQ0FJRSxLQUFBZ0IsRUFBQVQsT0FFYSxXQUFUUyxFQUFDRSxJQUF5QlEsS0FBWFYsRUFBS0EsTUFBTVUsU0F4QzFCVixFQUFNUCxVQUFVSSxJQUFJLFlBQVksRUFDaENmLFlBQVlPLFlBQWMsYUFHUixLQUFoQlcsRUFBTVQsT0FBNkIsUUFBYlMsRUFBTUksSUFBdUMsSUFBdkJKLEVBQU1ULE1BQU1DLFNBQzFEUSxFQUFNUCxVQUFVSSxJQUFJLFlBQVksRUFDaENkLFNBQVNNLFlBQWMsWUFFM0IsQ0FBQyxFQUVtQixJQUFoQlksR0FDRkksaUJBQWlCLENBRXJCLEVBRU1BLGlCQUFtQixXQUN2QixJQUFJQyxFQUFlLEVBRW5CbkMsT0FBTytCLFFBQVEsU0FBQ0YsR0FDVkEsRUFBTVAsVUFBVWtCLFNBQVMsWUFBWSxHQUN2Q0wsQ0FBWSxFQUVoQixDQUFDLEVBRW9CLElBQWpCQSxHQUNGQyxXQUFXLENBRWYsRUFFTUEsV0FBYSxXQUNqQkMsVUFBVWYsVUFBVWdCLE9BQU8sUUFBUSxFQUNuQ3ZCLFNBQVNPLFVBQVVnQixPQUFPLFFBQVEsQ0FDcEMsRUFFQXpCLFVBQVUwQixpQkFBaUIsUUFBU1AsbUJBQW1CLEVBQ3ZEbEIsWUFBWXlCLGlCQUFpQixRQUFTLFdBQ3BDWCxZQUFZLEVBQ1pRLFdBQVcsQ0FDYixDQUFDLEVBRURwQyxPQUFPK0IsUUFBUSxTQUFDRixHQUFLLE9BQUtBLEVBQU1VLGlCQUFpQixRQUFTdkIsY0FBYyxDQUFDLENBQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9faW5wdXRcIik7XHJcbmNvbnN0IGNhcmROdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5fX3RleHRjYXJkLS1udW1iZXJcIik7XHJcbmNvbnN0IGNhcmROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX190ZXh0Y2FyZC0tbmFtZVwiKTtcclxuY29uc3QgY2FyZEN2YyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbl9fdGV4dGNhcmQtLWN2Y1wiKTtcclxuY29uc3QgY2FyZE1vbnRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX190ZXh0Y2FyZC0tbW9udGhcIik7XHJcbmNvbnN0IGNhcmRZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX190ZXh0Y2FyZC0teWVhclwiKTtcclxuY29uc3QgZXJyb3JEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX19lcnJvci0tZGF0ZVwiKTtcclxuY29uc3QgZXJyb3JOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX19lcnJvci0tbmFtZVwiKTtcclxuY29uc3QgZXJyb3JOdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5fX2Vycm9yLS1udW1iZXJcIik7XHJcbmNvbnN0IGVycm9yQ3ZjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX19lcnJvci0tY3ZjXCIpO1xyXG5jb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5fX2J0bi0tc3VibWl0XCIpO1xyXG5jb25zdCBjb250aW51ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbl9fYnRuLS1jb250aW51ZVwiKTtcclxuY29uc3Qgc3VibWl0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX19zdWJtaXRcIik7XHJcbmNvbnN0IHBvcHVwQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX19wb3B1cFwiKTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrSWRPZklucHV0KCkge1xyXG4gIHN3aXRjaCAodGhpcy5pZCkge1xyXG4gICAgY2FzZSBcIm51bWJlclwiOlxyXG4gICAgICBjb25zdCBudW1iZXJWYWxpZGF0aW9uID0gY2FyZE51bWJlci50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgY2FyZE51bWJlci50ZXh0Q29udGVudCA9IHRoaXMudmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGNhcmROdW1iZXIudGV4dENvbnRlbnQubGVuZ3RoICUgNCA9PT0gMCAmJlxyXG4gICAgICAgICAgY2FyZE51bWJlci50ZXh0Q29udGVudC5sZW5ndGggPT09IDRcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRoaXMudmFsdWUgPSBjYXJkTnVtYmVyLnRleHRDb250ZW50ICsgXCIgXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgIGNhcmROdW1iZXIudGV4dENvbnRlbnQubGVuZ3RoICUgOSA9PT0gMCAmJlxyXG4gICAgICAgICAgY2FyZE51bWJlci50ZXh0Q29udGVudC5sZW5ndGggPT09IDlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRoaXMudmFsdWUgPSBjYXJkTnVtYmVyLnRleHRDb250ZW50ICsgXCIgXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgIGNhcmROdW1iZXIudGV4dENvbnRlbnQubGVuZ3RoICUgMTQgPT09IDAgJiZcclxuICAgICAgICAgIGNhcmROdW1iZXIudGV4dENvbnRlbnQubGVuZ3RoID09PSAxNFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy52YWx1ZSA9IGNhcmROdW1iZXIudGV4dENvbnRlbnQgKyBcIiBcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjYXJkTnVtYmVyLnRleHRDb250ZW50Lmxlbmd0aCA+IDE5KSB7XHJcbiAgICAgICAgICBjYXJkTnVtYmVyLnRleHRDb250ZW50ID0gY2FyZE51bWJlci50ZXh0Q29udGVudC5zbGljZSgwLCAxOSk7XHJcbiAgICAgICAgICB0aGlzLnZhbHVlID0gY2FyZE51bWJlci50ZXh0Q29udGVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChudW1iZXJWYWxpZGF0aW9uLm1hdGNoKC9bYS16QS1aXSsvKSkge1xyXG4gICAgICAgICAgZXJyb3JOdW1iZXIudGV4dENvbnRlbnQgPSBcIldyb25nIGZvcm1hdFwiO1xyXG4gICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwiZXJyb3JpbnB1dFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXJyb3JOdW1iZXIudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JpbnB1dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2FyZE51bWJlci50ZXh0Q29udGVudCA9IFwiMDAwMCAwMDAwIDAwMDAgMDAwMFwiO1xyXG4gICAgICAgIGVycm9yTnVtYmVyLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvcmlucHV0XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcIm5hbWVcIjpcclxuICAgICAgY29uc3QgbmFtZVZhbGlkYXRpb24gPSBjYXJkTmFtZS50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLnZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoY2FyZE5hbWUudGV4dENvbnRlbnQubGVuZ3RoID4gMjIpIHtcclxuICAgICAgICAgIGNhcmROYW1lLnRleHRDb250ZW50ID0gY2FyZE5hbWUudGV4dENvbnRlbnQuc2xpY2UoMCwgMjIpO1xyXG4gICAgICAgICAgdGhpcy52YWx1ZSA9IGNhcmROYW1lLnRleHRDb250ZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5hbWVWYWxpZGF0aW9uLm1hdGNoKC9bMC05XSsvKSkge1xyXG4gICAgICAgICAgZXJyb3JOYW1lLnRleHRDb250ZW50ID0gXCJXcm9uZyBmb3JtYXRcIjtcclxuICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImVycm9yaW5wdXRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVycm9yTmFtZS50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvcmlucHV0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjYXJkTmFtZS50ZXh0Q29udGVudCA9IFwiamFuZSBhcHBsZXNlZWRcIjtcclxuICAgICAgICBlcnJvck5hbWUudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yaW5wdXRcIik7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwibW9udGhcIjpcclxuICAgICAgaWYgKHRoaXMudmFsdWUgIT09IFwiXCIpIHtcclxuICAgICAgICBjYXJkTW9udGgudGV4dENvbnRlbnQgPSB0aGlzLnZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoY2FyZE1vbnRoLnRleHRDb250ZW50Lmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgIGNhcmRNb250aC50ZXh0Q29udGVudCA9IGNhcmRNb250aC50ZXh0Q29udGVudC5zbGljZSgwLCAyKTtcclxuICAgICAgICAgIHRoaXMudmFsdWUgPSBjYXJkTW9udGgudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy52YWx1ZSA+IDEyIHx8IHRoaXMudmFsdWUgPCAxKSB7XHJcbiAgICAgICAgICBlcnJvckRhdGUudGV4dENvbnRlbnQgPSBcIldyb25nIGRhdGVcIjtcclxuICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImVycm9yaW5wdXRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVycm9yRGF0ZS50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvcmlucHV0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjYXJkTW9udGgudGV4dENvbnRlbnQgPSBcIjAwXCI7XHJcbiAgICAgICAgZXJyb3JEYXRlLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvcmlucHV0XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcInllYXJcIjpcclxuICAgICAgaWYgKHRoaXMudmFsdWUgIT09IFwiXCIpIHtcclxuICAgICAgICBjYXJkWWVhci50ZXh0Q29udGVudCA9IHRoaXMudmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChjYXJkWWVhci50ZXh0Q29udGVudC5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICBjYXJkWWVhci50ZXh0Q29udGVudCA9IGNhcmRZZWFyLnRleHRDb250ZW50LnNsaWNlKDAsIDIpO1xyXG4gICAgICAgICAgdGhpcy52YWx1ZSA9IGNhcmRZZWFyLnRleHRDb250ZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgY2FyZFllYXIudGV4dENvbnRlbnQubGVuZ3RoID09PSAyICYmXHJcbiAgICAgICAgICAodGhpcy52YWx1ZSA+IDMyIHx8IHRoaXMudmFsdWUgPCAyNClcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGVycm9yRGF0ZS50ZXh0Q29udGVudCA9IFwiV3JvbmcgZGF0ZVwiO1xyXG4gICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwiZXJyb3JpbnB1dFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXJyb3JEYXRlLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yaW5wdXRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNhcmRZZWFyLnRleHRDb250ZW50ID0gXCIwMFwiO1xyXG4gICAgICAgIGVycm9yRGF0ZS50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JpbnB1dFwiKTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgXCJjdmNcIjpcclxuICAgICAgaWYgKHRoaXMudmFsdWUgIT09IFwiXCIpIHtcclxuICAgICAgICBjYXJkQ3ZjLnRleHRDb250ZW50ID0gdGhpcy52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKGNhcmRDdmMudGV4dENvbnRlbnQubGVuZ3RoID4gMykge1xyXG4gICAgICAgICAgY2FyZEN2Yy50ZXh0Q29udGVudCA9IGNhcmRDdmMudGV4dENvbnRlbnQuc2xpY2UoMCwgMyk7XHJcbiAgICAgICAgICB0aGlzLnZhbHVlID0gY2FyZEN2Yy50ZXh0Q29udGVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjYXJkQ3ZjLnRleHRDb250ZW50ID4gMCkge1xyXG4gICAgICAgICAgZXJyb3JDdmMudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JpbnB1dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2FyZEN2Yy50ZXh0Q29udGVudCA9IFwiMDAwXCI7XHJcbiAgICAgICAgZXJyb3JDdmMudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yaW5wdXRcIik7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCByZXNldEVycm9ycyA9ICgpID0+IHtcclxuICBlcnJvckRhdGUudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIGVycm9yTnVtYmVyLnRleHRDb250ZW50ID0gXCJcIjtcclxuICBlcnJvck5hbWUudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIGVycm9yQ3ZjLnRleHRDb250ZW50ID0gXCJcIjtcclxuXHJcbiAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JpbnB1dFwiKTtcclxuICAgIGlucHV0LnZhbHVlID0gXCJcIjtcclxuICB9KTtcclxuXHJcbiAgY2FyZEN2Yy50ZXh0Q29udGVudCA9IFwiMDAwXCI7XHJcbiAgY2FyZE5hbWUudGV4dENvbnRlbnQgPSBcImphbmUgYXBwbGVzZWVkXCI7XHJcbiAgY2FyZE51bWJlci50ZXh0Q29udGVudCA9IFwiMDAwMCAwMDAwIDAwMDAgMDAwMFwiO1xyXG4gIGNhcmRNb250aC50ZXh0Q29udGVudCA9IFwiMDBcIjtcclxuICBjYXJkWWVhci50ZXh0Q29udGVudCA9IFwiMDBcIjtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrSWZGaWxsZWRJbnB1dHMgPSAoKSA9PiB7XHJcbiAgbGV0IGVtcHR5SW5wdXRzID0gMDtcclxuXHJcbiAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBpZiAoaW5wdXQudmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgZW1wdHlJbnB1dHMrKztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaW5wdXQudmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgc3dpdGNoIChpbnB1dC5pZCkge1xyXG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcclxuICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJlcnJvcmlucHV0XCIpO1xyXG4gICAgICAgICAgZXJyb3JOdW1iZXIudGV4dENvbnRlbnQgPSBcIkVtcHR5XCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibmFtZVwiOlxyXG4gICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChcImVycm9yaW5wdXRcIik7XHJcbiAgICAgICAgICBlcnJvck5hbWUudGV4dENvbnRlbnQgPSBcIkVtcHR5XCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibW9udGhcIjpcclxuICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJlcnJvcmlucHV0XCIpO1xyXG4gICAgICAgICAgZXJyb3JEYXRlLnRleHRDb250ZW50ID0gXCJFbXB0eVwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcInllYXJcIjpcclxuICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJlcnJvcmlucHV0XCIpO1xyXG4gICAgICAgICAgZXJyb3JEYXRlLnRleHRDb250ZW50ID0gXCJFbXB0eVwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImN2Y1wiOlxyXG4gICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChcImVycm9yaW5wdXRcIik7XHJcbiAgICAgICAgICBlcnJvckN2Yy50ZXh0Q29udGVudCA9IFwiRW1wdHlcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBpbnB1dC52YWx1ZSAhPT0gXCJcIiAmJlxyXG4gICAgICBpbnB1dC5pZCA9PT0gXCJudW1iZXJcIiAmJlxyXG4gICAgICBpbnB1dC52YWx1ZS5sZW5ndGggIT09IDE5XHJcbiAgICApIHtcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChcImVycm9yaW5wdXRcIik7XHJcbiAgICAgIGVycm9yTnVtYmVyLnRleHRDb250ZW50ID0gXCJUb28gc2hvcnRcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaW5wdXQudmFsdWUgIT09IFwiXCIgJiYgaW5wdXQuaWQgPT09IFwiY3ZjXCIgJiYgaW5wdXQudmFsdWUubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJlcnJvcmlucHV0XCIpO1xyXG4gICAgICBlcnJvckN2Yy50ZXh0Q29udGVudCA9IFwiVG9vIHNob3J0XCI7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGlmIChlbXB0eUlucHV0cyA9PT0gMCkge1xyXG4gICAgY2hlY2tJZkFueUVycm9ycygpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrSWZBbnlFcnJvcnMgPSAoKSA9PiB7XHJcbiAgbGV0IGVycm9yT2ZJbnB1dCA9IDA7XHJcblxyXG4gIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgaWYgKGlucHV0LmNsYXNzTGlzdC5jb250YWlucyhcImVycm9yaW5wdXRcIikpIHtcclxuICAgICAgZXJyb3JPZklucHV0Kys7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGlmIChlcnJvck9mSW5wdXQgPT09IDApIHtcclxuICAgIHN1Ym1pdEZvcm0oKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBzdWJtaXRGb3JtID0gKCkgPT4ge1xyXG4gIHN1Ym1pdEJveC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xyXG4gIHBvcHVwQm94LmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIik7XHJcbn07XHJcblxyXG5zdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoZWNrSWZGaWxsZWRJbnB1dHMpO1xyXG5jb250aW51ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHJlc2V0RXJyb3JzKCk7XHJcbiAgc3VibWl0Rm9ybSgpO1xyXG59KTtcclxuXHJcbmlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGNoZWNrSWRPZklucHV0KSk7XHJcbiJdfQ==
